<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Web Storage World - Local Storage</title>
	<style>
		.contents {
			position: fixed;
			top: 50%;
			left: 50%;
			transform: translate(-50%, -50%);
			border: 1px solid black;
			border-width: 2px;
			padding: 15px;
		}
		#generateButton {
			margin-top: 5px;
			margin-buttom: 15px;
		}
	</style>
</head>
<body>
	<div class="contents" align="center">
		<button id="incrementButton">Tambah nilai</button>
		<button id="clear">Hapus storage</button>
		<h3>Kamu sudah menekan tombol di atas sebanyak:</h3>
		<h2 id="count">0</h2>
	</div>
	<script>
		const localStorageKey = "PRESS_FREQUENCY";

		// Pengecekan apakah data local storage dengan key count tersedia atau belum
		if(typeof(Storage) !== "undefined"){
			if(localStorage.getItem(localStorageKey) === null)
				// Jika item pada local storage belum ada,
				// maka akan diberi nilai awal, yaitu 0
				localStorage.setItem(localStorageKey, 0);

			const IncrementButton =  document.querySelector("#incrementButton");
			const clearButton = document.querySelector("#clear");
			const countDisplay = document.querySelector("#count");

			// Memberikan nilai item dari local storage
			countDisplay.innerText = localStorage.getItem(localStorageKey);

			// Mengupdate nilai dari item local storage jika tombol ditekan
			IncrementButton.addEventListener("click", function(){
				let count = localStorage.getItem(localStorageKey);
				count++;
				localStorage.setItem(localStorageKey, count);
				countDisplay.innerText = localStorage.getItem(localStorageKey);
			});

			// Memberikan nilai 0 ke tampilan karena di-reset dan menghapus item
			clearButton.addEventListener("click", function(){
				localStorage.removeItem(localStorageKey);
				countDisplay.innerText = 0;
			});
		} else {
			alert("Browser yang anda gunakan tidak mendukung Web Storage");
		}
	</script>
</body>
</html>
